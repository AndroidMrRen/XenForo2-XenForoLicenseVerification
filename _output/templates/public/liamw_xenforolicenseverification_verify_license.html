<xf:title>{{ phrase('liamw_xenforolicenseverification_verify_xenforo_license') }}
</xf:title>

<xf:wrap template="account_wrapper"/>

<xf:if is="{$xf.visitor.XenForoLicense}">
    <div class="block">
        <div class="block-container">
            <div class="block-body">
                <div class="block-row">{{
                    phrase('liamw_xenforolicenseverification_your_license_has_already_been_verified') }}
                </div>
            </div>
        </div>
    </div>
    <xf:else/>
    <xf:form action="{{ link('account/xenforo-license/process') }}" class="block" ajax="true">
        <div class="block-container">
            <div class="block-body">
                <xf:macro name="liamw_xenforolicense_form_fields" arg-context="account"/>

                <xf:submitrow label="{{ phrase('apply') }}" icon="apply"/>
            </div>
        </div>
    </xf:form>
</xf:if>

<xf:macro name="liamw_xenforolicense_form_fields" arg-context="!">
    <xf:textboxrow name="xenforo_license_verification[token]"
                   label="{{ phrase('liamw_xenforolicenseverification_validation_token') }}"
                   explain="{{ phrase('liamw_xenforolicenseverification_validation_token_explain') }}"
                   hint="{{ ($context == 'registration' ? ($xf.options.liamw_xenforolicenseverification_registration.require ? phrase('required') : phrase('optional')) : '') }}"/>
    <xf:if is="{$xf.options.liamw_xenforolicenseverification_check_domain}">
        <xf:textboxrow name="xenforo_license_verification[domain]"
                       label="{{ phrase('liamw_xenforolicenseverification_validation_domain') }}"
                       explain="{{ phrase('liamw_xenforolicenseverification_validation_domain_explain') }}"/>
    </xf:if>
</xf:macro>